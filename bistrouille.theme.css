/* Bistrouille — thème Option A (rouge vin & crème) + Duo2 (Playfair/Lato) */
:root{--brown:#5A3F34;--brown-700:#4b342b;--cream:#F6F1EA;--wine:#7B1E2B;--wine-600:#6c1a27;--accent:#D87C43;--ink:#1C1B1A;--muted:#7a7672;--card:#fff;--radius:18px;--shadow:0 10px 25px rgba(0,0,0,.08);--container:1100px}
*,*::before,*::after{box-sizing:border-box}
html,body{margin:0;padding:0}
body{font-family:'Lato',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--ink);background:var(--cream)}
h1,h2,h3,h4,.brand__title{font-family:'Playfair Display',Georgia,'Times New Roman',serif}
img{max-width:100%;display:block}
a{color:var(--wine);text-decoration:none}
:focus-visible{outline:2px solid var(--wine);outline-offset:2px}
.container{width:min(var(--container),92vw);margin-inline:auto}
.grid{display:grid;gap:18px}
.grid--2{grid-template-columns:1fr 1fr}
.grid--3{grid-template-columns:repeat(3,1fr)}
@media(max-width:900px){.grid--2,.grid--3{grid-template-columns:1fr}}
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}
.btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:14px;font-weight:800;border:2px solid transparent;cursor:pointer;transition:transform .18s ease,box-shadow .18s ease,background .18s ease}
.btn--primary{background:var(--wine);color:#fff;box-shadow:0 8px 18px rgba(123,30,43,.25)}
.btn--primary:hover{transform:translateY(-1px);background:var(--wine-600)}
.btn--ghost{background:#fff;color:var(--ink);border-color:rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.12)}
.btn--ghost:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.08)}
.btn--pulse{animation:pulse 1.8s ease-in-out infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(123,30,43,.35)}50%{box-shadow:0 0 0 10px rgba(123,30,43,0)}}
.tag{display:inline-block;background:rgba(123,30,43,.09);color:var(--wine);padding:6px 10px;border-radius:999px;font-size:12px;font-weight:900;letter-spacing:.2px}
.section-title{font-size:30px;margin:0 0 18px;color:var(--brown)}

/* Header / nav */
.header{position:sticky;top:0;z-index:50;background:rgba(246,241,234,.88);backdrop-filter:blur(8px);border-bottom:1px solid rgba(0,0,0,.06)}
header.scrolled{box-shadow:0 8px 24px rgba(0,0,0,.08)}
.header__inner{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
.brand{display:flex;gap:12px;align-items:center}
.brand__logo{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,var(--brown),var(--brown-700));box-shadow:var(--shadow)}
.brand__title{font-size:20px;letter-spacing:.4px;margin:0;color:var(--brown)}
.nav{display:flex;gap:22px}
.nav__list{display:flex;gap:22px;list-style:none;margin:0;padding:0}
.nav__link{font-weight:700;color:var(--ink)}
.nav__link:hover{color:var(--wine)}
.toolbar{display:flex;gap:12px;align-items:center}
.phone{display:inline-flex;align-items:center;gap:8px;font-weight:900;color:var(--ink)}
.iconbtn{display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:12px;background:#fff;border:1px solid rgba(0,0,0,.08);box-shadow:var(--shadow);transition:transform .15s ease,box-shadow .2s ease}
.iconbtn:hover{transform:translateY(-1px);box-shadow:0 10px 22px rgba(0,0,0,.12)}
.burger{display:none;flex-direction:column;gap:4px;background:none;border:0}
.burger span{width:24px;height:2px;background:var(--ink)}
@media(max-width:900px){.nav{display:none}.burger{display:flex}}
.drawer{position:fixed;top:60px;right:4vw;width:min(520px,92vw);background:var(--card);border-radius:16px;box-shadow:var(--shadow);display:none}
.drawer--open{display:block}
.drawer ul{list-style:none;margin:0;padding:16px}
.drawer li{border-bottom:1px solid rgba(0,0,0,.06)}
.drawer a{display:block;padding:14px 4px;color:var(--ink);font-weight:700}

/* Hero */
.hero{position:relative;margin-top:8px}
.hero__wrap{position:relative;overflow:hidden;border-radius:24px;box-shadow:var(--shadow)}
.hero__media{min-height:75vh;background-size:cover;background-position:center center;background-image:linear-gradient(180deg, rgba(27,14,16,.60), rgba(27,14,16,.15)), url('https://images.unsplash.com/photo-1544025162-d76694265947?auto=format&fit=crop&w=1600&q=80')}
.hero__content{position:absolute;inset:auto 0 0 0;padding:28px;display:grid;gap:12px;color:#fff;text-shadow:0 2px 12px rgba(0,0,0,.28)}
.hero__title{margin:0;font-size:clamp(28px,4vw,52px);line-height:1.05}
.hero__subtitle{margin:0;font-size:clamp(14px,2vw,18px)}
.hero__ctas{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
.downwrap{display:flex;justify-content:center;margin-top:8px}
.down{background:#fff;border:2px solid var(--wine);color:var(--wine);border-radius:999px;padding:10px 14px;display:inline-flex;align-items:center;gap:10px;font-weight:900;box-shadow:var(--shadow)}
.down svg{width:18px;height:18px}

/* Sections */
section{padding:56px 0}
.chip{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border:1px dashed rgba(0,0,0,.12);border-radius:999px;background:#fff}

/* Formule push */
.promo{display:grid;grid-template-columns:140px 1fr auto;align-items:center;gap:16px;padding:18px;border:2px dashed var(--wine);border-radius:16px;background:linear-gradient(90deg, rgba(123,30,43,.08), rgba(123,30,43,.02))}
.promo__thumb{width:140px;height:100px;border-radius:10px;overflow:hidden}
.promo__thumb img{transition:transform .3s ease}
.promo:hover .promo__thumb img{transform:scale(1.06)}
.promo__badge{background:var(--wine);color:#fff;padding:10px 14px;border-radius:12px;font-weight:900}

/* Carte */
.menu-item{display:grid;grid-template-columns:120px 1fr auto;gap:14px;align-items:center;padding:12px 0;border-bottom:1px dashed rgba(0,0,0,.08)}
.menu-item__thumb{width:120px;height:96px;border-radius:12px;overflow:hidden;background:#ddd}
.menu-item__thumb img{transition:transform .3s ease}
.menu-item:hover .menu-item__thumb img{transform:scale(1.06)}
.menu-item__name{font-weight:900}
.menu-item__desc{color:var(--muted);font-size:14px;margin-top:4px}
.menu-item__price{font-weight:900;color:var(--wine)}

/* Cave */
.wines__row{align-items:stretch}
.wine{display:grid;grid-template-columns:90px 1fr auto auto;gap:12px;align-items:center;padding:10px 0;border-bottom:1px dashed rgba(0,0,0,.08)}
.wine__thumb{width:90px;height:90px;border-radius:10px;overflow:hidden;background:#ddd}
.wine__thumb img{transition:transform .3s ease}
.wine:hover .wine__thumb img{transform:scale(1.06)}
.wine__prices{display:flex;gap:12px;white-space:nowrap}

/* Social wall */
.social{display:grid;grid-template-columns:1fr 1fr;gap:18px}
@media(max-width:900px){.social{grid-template-columns:1fr}}
.post{background:#fff;border-radius:16px;box-shadow:var(--shadow);overflow:hidden;transition:transform .2s ease, box-shadow .2s ease}
.post:hover{transform:translateY(-2px);box-shadow:0 14px 30px rgba(0,0,0,.12)}
.post__img{aspect-ratio:1/1;object-fit:cover;transition:transform .35s ease}
.post:hover .post__img{transform:scale(1.04)}
.post__meta{display:flex;align-items:center;justify-content:space-between;padding:10px 12px}
.post__tag{font-weight:900;font-size:12px;color:var(--wine)}

/* Galerie */
.gallery__controls{display:flex;justify-content:space-between;margin-bottom:8px}
.gbtn{border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:10px;padding:8px 10px}
.gallery__row{overflow-x:auto;display:grid;grid-auto-flow:column;grid-auto-columns:160px;gap:8px}
.thumb{aspect-ratio:1/1;border-radius:12px;background:#ddd;cursor:pointer;overflow:hidden}
.thumb img{transition:transform .3s ease}
.thumb:hover img{transform:scale(1.06)}
.featured{margin-top:12px;aspect-ratio:16/9;border-radius:14px;overflow:hidden;background:#000;display:none;opacity:0;transition:opacity .35s ease}
.featured.is-open{display:block;opacity:1}

/* Formulaires */
form{display:grid;gap:12px}
label{display:grid;gap:6px;font-weight:700}
input,select,textarea{padding:12px 14px;border:1px solid rgba(0,0,0,.14);border-radius:12px;background:#fff;font:inherit;transition:border-color .2s ease, box-shadow .2s ease}
input:focus,select:focus,textarea:focus{border-color:var(--wine);box-shadow:0 0 0 4px rgba(123,30,43,.12)}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:900px){.row{grid-template-columns:1fr}}
.consent{display:flex;align-items:flex-start;gap:10px;font-size:14px}
.error{border-color:#c0392b}

/* Footer */
.footer{padding:36px 0;border-top:1px solid rgba(0,0,0,.08)}
.footer__cols{display:grid;grid-template-columns:2fr 1fr 1fr;gap:18px}
@media(max-width:900px){.footer__cols{grid-template-columns:1fr}}
.muted{color:var(--muted);font-size:14px}
.footer-links a{margin-right:12px}

/* Utilities */
.reveal{opacity:0;transform:translateY(14px);transition:opacity .5s ease, transform .5s ease}
.reveal.is-visible{opacity:1;transform:none}

/* ===== PATCH MOBILE FIRST (<=768px) ===== */
@media (max-width: 768px) {
  .container { width: 94vw; }
  .header__inner { gap: 10px; min-width: 0; flex-wrap: wrap; }
  .brand { min-width: 0; }
  .brand__title { font-size: 18px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 52vw; }
  .toolbar { gap: 8px; }
  .iconbtn { width: 34px; height: 34px; border-radius: 10px; }
  .phone { font-weight: 800; font-size: 14px; }
  .btn.btn--primary { padding: 10px 12px; font-size: 14px; border-radius: 12px; }
  .nav { display: none !important; }
  .burger { display: flex; }
  .drawer { top: 64px; right: 3vw; width: 94vw; }

  .hero__wrap { border-radius: 18px; }
  .hero__media { min-height: 68vh; }
  .hero__content { padding: 18px; }

  .menu-item { grid-template-columns: 88px 1fr auto; gap: 10px; }
  .menu-item__thumb { width: 88px; height: 76px; border-radius: 10px; }
  .menu-item__price { font-size: 14px; }

  .wines__row { grid-template-columns: 1fr; }
  .wine { grid-template-columns: 70px 1fr auto; gap: 10px; }
  .wine__thumb { width: 70px; height: 70px; border-radius: 8px; }
  .wine__prices { white-space: nowrap; font-weight: 900; }
  @media (max-width: 420px) {
    .wine { grid-template-columns: 70px 1fr; }
    .wine__prices { justify-self: start; }
  }

  .social { grid-template-columns: 1fr; }
  .gallery__row { grid-auto-columns: 140px; }
  .featured { border-radius: 12px; }

  .row { grid-template-columns: 1fr; }
}

/* Sécurité overflow */
html, body { overflow-x: hidden; }
.header, .hero, section, .footer, .container { max-width: 100vw; }
.down { font-size: 15px; padding: 10px 14px; }

/* =========================================================
   Bistrouille — Design Upgrade v1 (styles additionnels)
   (garde tout ton CSS existant ; on étend/raffine uniquement)
   ========================================================= */

/* 1) Header scrolled : compacité + relief léger */
.header.scrolled {
  background: rgba(246,241,234,.95);
  border-bottom-color: rgba(0,0,0,.08);
  box-shadow: 0 10px 30px rgba(0,0,0,.10);
}
.header.scrolled .header__inner { padding: 10px 0; }

/* 2) Hero : vignettage doux + overlay dégradé un peu plus “gastro” */
.hero__wrap { position: relative; isolation:isolate; }
.hero__wrap::after {
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(120% 80% at 50% 0%, rgba(0,0,0,.20) 0%, rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(27,14,16,0) 30%, rgba(27,14,16,.45) 92%);
  mix-blend-mode: multiply;
  z-index:0;
}
.hero__content { position:absolute; z-index:1; }

/* 3) Boutons : “press” & outline focus + légère translation au clic */
.btn { transform: translateY(0); }
.btn:active { transform: translateY(1px); }
.btn:focus-visible { box-shadow: 0 0 0 4px rgba(123,30,43,.18); }

/* 4) Cartes : ombre rehaussée au hover */
.card { transition: box-shadow .25s ease, transform .25s ease; }
.card:hover { box-shadow: 0 18px 40px rgba(0,0,0,.12); }

/* 5) Séparateurs doux entre sections (subtile ligne crème foncée) */
section + section { position:relative; }
section + section::before {
  content:""; position:absolute; top:0; left:50%; transform:translateX(-50%);
  width:min(1100px,92vw); height:1px; background:linear-gradient(90deg, transparent, rgba(0,0,0,.08), transparent);
}

/* 6) Icônes réseaux dans .iconbtn (Instagram / Facebook) */
.iconbtn[aria-label="Instagram"],
.iconbtn[title="Instagram"] {
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3a6 6 0 1 1 0 12 6 6 0 0 1 0-12zm0 2.2A3.8 3.8 0 1 0 12 17.8 3.8 3.8 0 0 0 12 9.2zm5.3-2.1a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4z"/></svg>') center/62% no-repeat;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3a6 6 0 1 1 0 12 6 6 0 0 1 0-12zm0 2.2A3.8 3.8 0 1 0 12 17.8 3.8 3.8 0 0 0 12 9.2zm5.3-2.1a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4z"/></svg>') center/62% no-repeat;
  background: var(--wine);
}
.iconbtn[aria-label="Facebook"],
.iconbtn[title="Facebook"] {
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M13.5 22v-8h2.7l.4-3H13.5V9.1c0-.9.3-1.5 1.7-1.5H16.7V5.1c-.3 0-1.3-.1-2.4-.1-2.3 0-3.8 1.3-3.8 3.9V11H8v3h2.5v8h3z"/></svg>') center/56% no-repeat;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M13.5 22v-8h2.7l.4-3H13.5V9.1c0-.9.3-1.5 1.7-1.5H16.7V5.1c-.3 0-1.3-.1-2.4-.1-2.3 0-3.8 1.3-3.8 3.9V11H8v3h2.5v8h3z"/></svg>') center/56% no-repeat;
  background: var(--wine);
}

/* 7) Menu : petits bullets décoratifs + alignement prix */
.menu__col h3 { position:relative; padding-left:14px; }
.menu__col h3::before {
  content:""; position:absolute; left:0; top:.55em;
  width:6px; height:6px; border-radius:50%;
  background: var(--wine);
}
.menu-item__price { font-variation-settings: "wght" 900; letter-spacing:.2px; }

/* 8) Cave : “piste” verticale et séparateurs subtils */
.wines__row .card { position:relative; }
.wines__row .card::before {
  content:""; position:absolute; left:22px; top:22px; bottom:22px; width:2px;
  background: linear-gradient(180deg, rgba(123,30,43,.18), rgba(123,30,43,0));
  border-radius:2px;
}
.wine { position:relative; padding-left:10px; }
.wine + .wine { border-top: 1px dashed rgba(0,0,0,.06); }

/* 9) Galerie : ombre douce sur l’image mise en avant */
.featured.is-open { box-shadow: 0 18px 40px rgba(0,0,0,.18); }

/* 10) Footer : petites icônes bordeaux au hover */
.footer .iconbtn { background:#fff; border-color: rgba(0,0,0,.08); }
.footer .iconbtn:hover { background:#fff; transform: translateY(-1px); }

/* 11) Mobile polish (affinages supplémentaires) */
@media (max-width: 768px) {
  .header__inner { padding: 10px 0; }
  .brand__logo { width:36px; height:36px; border-radius:11px; }
  .brand__title { font-size: 18px; max-width: 50vw; }
  .down { border-width: 2px; }
  .post__img { aspect-ratio: 4/3; }
}